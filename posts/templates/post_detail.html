{% extends 'index.html' %}

{% block content %}
<section class="container py-2 offset mt-5">
    <h2><strong>{{ post.title }}</strong></h2>
    <p class="mt-3">{{ post.content }}</p>
</section>
<div class="text-center">
    {% if user.is_authenticated %}
    <div id="{{ post.id }}">
        {% if user in post.likes.all %}
        <button type="button" class="btn btn-danger btn-sm dislike-button" data-post="{{ post.id }}">
            Dislike
            <span class="badge bg-light text-dark like-count">{{ post.likes.count }}</span>
        </button>
        {% else %}
        <button type="button" class="btn btn-primary btn-sm like-button" data-post="{{ post.id }}">
            Like
            <span class="badge bg-light text-dark like-count">{{ post.likes.count }}</span>
        </button>
        {% endif %}
    </div>
    {% endif %}
    <br><br>
</div>
{% endblock %}

{% block script %}
{% load static %}
<script src="{% static 'js/likes.js' %}">
</script>
{% endblock %}